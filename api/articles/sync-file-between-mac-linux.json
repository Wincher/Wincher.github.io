{"title":"sync_file_between_mac_linux","slug":"sync-file-between-mac-linux","date":"2019-08-19T05:11:34.000Z","updated":"2019-08-19T05:23:01.288Z","comments":true,"excerpt":"","content":"<h2 id=\"env\"><a href=\"#env\" class=\"headerlink\" title=\"env\"></a>env</h2><h3 id=\"Mac\"><a href=\"#Mac\" class=\"headerlink\" title=\"Mac\"></a>Mac</h3><pre><code>brew install fswatch\n\nvim watch.sh\n</code></pre><pre><code>#!/bin/zsh\n\nfswatch /path/you/want/to/sync/ | while read file\n\ndo\nrsync -rltzuq --delete  /path/you/want/to/sync/ remotehost::nnn/\necho &quot;${file} was rsynced&quot; &gt;&gt; /Users/wincher/Documents/work/leandev/rsync.log 2&gt;&amp;1\ndone\n</code></pre><h3 id=\"nnn-is-defined-on-the-remote-server-by-rsync\"><a href=\"#nnn-is-defined-on-the-remote-server-by-rsync\" class=\"headerlink\" title=\"nnn is defined on the remote server by rsync\"></a>nnn is defined on the remote server by rsync</h3><h4 id=\"etc-rsync-rsync-conf\"><a href=\"#etc-rsync-rsync-conf\" class=\"headerlink\" title=\"/etc/rsync/rsync.conf\"></a>/etc/rsync/rsync.conf</h4><pre><code>uid = userid\ngid = groupid\nuse chroot = no\nmax connections = 10\nstrict modes = yes\nlog file = /var/logs/rsyncd/rsync.log\npid file = /var/run/rsync.pid\n[nnn]\npath = /path/you/want/to/sync/\ncomment = analyse\nread only = false\nhosts deny = *\nhosts allow = allowed_host\n</code></pre><p>run command below to make it work.</p>\n<pre><code>/usr/bin/rsync --daemon --config=/etc/rsync/rsync.conf\n</code></pre>","categories":[],"tags":[]}