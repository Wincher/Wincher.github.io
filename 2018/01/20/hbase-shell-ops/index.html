<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>HBase Shell操作 | WincherToldYou</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="ForRemember,HBase">
    <meta name="description" content="参考自:这里  Hbase环境下进入: hbase shell   tips: hbase shell下Backspace(退格键)失效,按住ctrl下再按就可以了切记,还有一种方法如果是XShell中可以在File-&amp;gt;Properties-&amp;gt;Terminal-&amp;gt;Keyboard下，把DELETE/BACKSPACE key sequence选为ASCII 127(Ctrl+?)">
<meta name="keywords" content="ForRemember,HBase">
<meta property="og:type" content="article">
<meta property="og:title" content="HBase Shell操作">
<meta property="og:url" content="http://wincher.cn/2018/01/20/hbase-shell-ops/index.html">
<meta property="og:site_name" content="WincherToldYou">
<meta property="og:description" content="参考自:这里  Hbase环境下进入: hbase shell   tips: hbase shell下Backspace(退格键)失效,按住ctrl下再按就可以了切记,还有一种方法如果是XShell中可以在File-&amp;gt;Properties-&amp;gt;Terminal-&amp;gt;Keyboard下，把DELETE/BACKSPACE key sequence选为ASCII 127(Ctrl+?)">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/1.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/2.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/3.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/4.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/5.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/6.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/7.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/8.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/9.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/10.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/11.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/12.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/13.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/14.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/15.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/16.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/17.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/18.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/19.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/20.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/21.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/22.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/23.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/24.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/25.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/26.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/27.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/28.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/29.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/30.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/31.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/32.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/33.png">
<meta property="og:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/34.png">
<meta property="og:updated_time" content="2018-04-22T07:54:42.117Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HBase Shell操作">
<meta name="twitter:description" content="参考自:这里  Hbase环境下进入: hbase shell   tips: hbase shell下Backspace(退格键)失效,按住ctrl下再按就可以了切记,还有一种方法如果是XShell中可以在File-&amp;gt;Properties-&amp;gt;Terminal-&amp;gt;Keyboard下，把DELETE/BACKSPACE key sequence选为ASCII 127(Ctrl+?)">
<meta name="twitter:image" content="http://wincher.cn/2018/01/20/hbase-shell-ops/1.png">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Wincher</h5>
          <a href="mailto:634206017@qq.com" title="634206017@qq.com" class="mail">634206017@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/yscoder" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/ysweb" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/custom"  >
                <i class="icon icon-lg icon-link"></i>
                测试
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">HBase Shell操作</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">HBase Shell操作</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-01-20T07:13:20.000Z" itemprop="datePublished" class="page-time">
  2018-01-20
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/HBase/">HBase</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#General-通用指令"><span class="post-toc-number">1.</span> <span class="post-toc-text">General 通用指令</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#DDL操作"><span class="post-toc-number">2.</span> <span class="post-toc-text">DDL操作</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#权限管理"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">权限管理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#语法-grant-参数后面用逗号分隔"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">语法 : grant      参数后面用逗号分隔</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#权限用五个字母表示：-“RWXCA”"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">权限用五个字母表示： “RWXCA”.</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#READ-‘R’-WRITE-‘W’-EXEC-‘X’-CREATE-‘C’-ADMIN-‘A’"><span class="post-toc-number">2.1.3.</span> <span class="post-toc-text">READ(‘R’), WRITE(‘W’), EXEC(‘X’), CREATE(‘C’), ADMIN(‘A’)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#例如，给用户‘test’分配对表t1有读写的权限，"><span class="post-toc-number">2.1.4.</span> <span class="post-toc-text">例如，给用户‘test’分配对表t1有读写的权限，</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#语法：user-permission"><span class="post-toc-number">2.1.5.</span> <span class="post-toc-text">语法：user_permission </span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#例如，查看表t1的权限列表"><span class="post-toc-number">2.1.6.</span> <span class="post-toc-text">例如，查看表t1的权限列表</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#与分配权限类似，语法：revoke"><span class="post-toc-number">2.1.7.</span> <span class="post-toc-text">与分配权限类似，语法：revoke    </span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#例如，收回test用户在表t1上的权限"><span class="post-toc-number">2.1.8.</span> <span class="post-toc-text">例如，收回test用户在表t1上的权限</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#语法：move-‘encodeRegionName’-‘ServerName’"><span class="post-toc-number">2.1.9.</span> <span class="post-toc-text">语法：move ‘encodeRegionName’, ‘ServerName’</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#encodeRegionName指的regioName后面的编码，ServerName指的是master-status的Region-Servers列表"><span class="post-toc-number">2.1.10.</span> <span class="post-toc-text">encodeRegionName指的regioName后面的编码，ServerName指的是master-status的Region Servers列表</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#示例"><span class="post-toc-number">2.1.11.</span> <span class="post-toc-text">示例</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#语法：balance-switch-true-false"><span class="post-toc-number">2.1.12.</span> <span class="post-toc-text">语法：balance_switch true|false</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#语法：split-‘regionName’-‘splitKey’"><span class="post-toc-number">2.1.13.</span> <span class="post-toc-text">语法：split ‘regionName’, ‘splitKey’</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#语法："><span class="post-toc-number">2.1.14.</span> <span class="post-toc-text">语法：</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#配置管理及节点重启"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">配置管理及节点重启</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#同步hdfs配置"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">同步hdfs配置</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#关闭："><span class="post-toc-number">2.4.</span> <span class="post-toc-text">关闭：</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#启动："><span class="post-toc-number">2.5.</span> <span class="post-toc-text">启动：</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#hbase配置位置："><span class="post-toc-number">2.6.</span> <span class="post-toc-text">hbase配置位置：</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#同步hbase配置"><span class="post-toc-number">2.7.</span> <span class="post-toc-text">同步hbase配置</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#graceful重启"><span class="post-toc-number">2.8.</span> <span class="post-toc-text">graceful重启</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-hbase-shell-ops"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">HBase Shell操作</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-01-20 15:13:20" datetime="2018-01-20T07:13:20.000Z"  itemprop="datePublished">2018-01-20</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/HBase/">HBase</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>参考自:<a href="https://learnhbase.wordpress.com/2013/03/02/hbase-shell-commands/" target="_blank" rel="external">这里</a></p>
<ul>
<li>Hbase环境下进入: <code>hbase shell</code><br><img src="/2018/01/20/hbase-shell-ops/1.png" alt="pic">  </li>
<li><p>tips: hbase shell下Backspace(退格键)失效,按住ctrl下再按就可以了切记,还有一种方法如果是XShell中可以在File-&gt;Properties-&gt;Terminal-&gt;Keyboard下，把DELETE/BACKSPACE key sequence选为ASCII 127(Ctrl+?)  </p>
</li>
<li><p>$whoami                    我是谁?<br><img src="/2018/01/20/hbase-shell-ops/2.png" alt="pic">  </p>
</li>
</ul>
<h1 id="General-通用指令"><a href="#General-通用指令" class="headerlink" title="General 通用指令"></a>General 通用指令</h1><ul>
<li>$help                        帮助</li>
<li>$version                    版本<br><img src="/2018/01/20/hbase-shell-ops/3.png" alt="pic">  </li>
<li>$status                    服务器状态<br><img src="/2018/01/20/hbase-shell-ops/4.png" alt="pic">  </li>
</ul>
<h1 id="DDL操作"><a href="#DDL操作" class="headerlink" title="DDL操作"></a>DDL操作</h1><p>$create ‘user’,’info’,’ext’                     创建一个表第一个为表名后面为字段(我们这是在以关系型数据库的思维来创建表,这是不适合的,我们姑且先这么创建)<br><img src="/2018/01/20/hbase-shell-ops/5.png" alt="pic">  </p>
<ul>
<li>$list                                        查看表的列表(类似于MySql的show tables;)<br><img src="/2018/01/20/hbase-shell-ops/6.png" alt="pic">  </li>
<li>$describe ‘user’                            根据表名获取表的描述<br><img src="/2018/01/20/hbase-shell-ops/7.png" alt="pic">  </li>
<li>$alter ‘user’,’delete’=&gt;’ext’                    删除名字为ext的列族<br><img src="/2018/01/20/hbase-shell-ops/8.png" alt="pic">  </li>
<li>$desc ‘user’                                再次查看已经成功删除掉了(desc 等同于 describe)<br><img src="/2018/01/20/hbase-shell-ops/9.png" alt="pic">  </li>
<li>$is_disabled ‘user’                        表的状态是否为disable</li>
<li>$is_enabled ‘user’                            表的状态是否为enable<br><img src="/2018/01/20/hbase-shell-ops/10.png" alt="pic">  </li>
<li>$drop ‘user’                                无法删除状态为enable的表<br><img src="/2018/01/20/hbase-shell-ops/11.png" alt="pic">  </li>
<li>$disable ‘user’                            把表设置为disable(启用为enable)<br><img src="/2018/01/20/hbase-shell-ops/12.png" alt="pic">  </li>
<li>$$drop ‘user’                                再次drop<br><img src="/2018/01/20/hbase-shell-ops/13.png" alt="pic"><br>成功删除</li>
<li>$exists ‘user’                                查看是否存在表<br><img src="/2018/01/20/hbase-shell-ops/14.png" alt="pic"><br>也刚好验证了刚才删除表的操作<br>再次将表建立起来</li>
<li>$create ‘user’,’info’,’ext’<br><img src="/2018/01/20/hbase-shell-ops/15.png" alt="pic">  </li>
<li>$添加几条数据 put ‘user’, ‘你要的id名’,’你要输入的cf列族:列名’,’value’<br><img src="/2018/01/20/hbase-shell-ops/16.png" alt="pic"><br><img src="/2018/01/20/hbase-shell-ops/17.png" alt="pic">  </li>
<li>$获取一个id的所有数据<br><img src="/2018/01/20/hbase-shell-ops/18.png" alt="pic">  </li>
<li>$获取一个id，一个列族的所有数据<br><img src="/2018/01/20/hbase-shell-ops/19.png" alt="pic">  </li>
<li>$获取一个id，一个列族中一个列的所有数据<br><img src="/2018/01/20/hbase-shell-ops/20.png" alt="pic">  </li>
<li>$把id的age修改为22<br><img src="/2018/01/20/hbase-shell-ops/21.png" alt="pic">  </li>
<li>$通过timestamp来获取两个版本的数据<br><img src="/2018/01/20/hbase-shell-ops/22.png" alt="pic">  </li>
<li>$全表扫描<br><img src="/2018/01/20/hbase-shell-ops/23.png" alt="pic">  </li>
<li>$删除键值为id的ROW(行)的’info:age’字段<br><img src="/2018/01/20/hbase-shell-ops/24.png" alt="pic">  </li>
<li>$删除整行<br><img src="/2018/01/20/hbase-shell-ops/25.png" alt="pic">  </li>
<li>$查询表中有多少行<br><img src="/2018/01/20/hbase-shell-ops/26.png" alt="pic"><br><img src="/2018/01/20/hbase-shell-ops/27.png" alt="pic"><br><img src="/2018/01/20/hbase-shell-ops/28.png" alt="pic"><br><img src="/2018/01/20/hbase-shell-ops/29.png" alt="pic">  </li>
<li>看到有了一行数据虽然插入两条但都是对同一个id的插入,数据在一个row上</li>
<li>$为键值为’id’的row增加’info:addr’字段，并使用counter实现递增<br><img src="/2018/01/20/hbase-shell-ops/30.png" alt="pic">  </li>
<li>我们看到在第一次初始化默认值为1,再次调用自增</li>
<li>初次设置可以给初始值,然后再次调用也可以设置增加的值<br><img src="/2018/01/20/hbase-shell-ops/31.png" alt="pic">  </li>
<li>查看这个值(可以看到是按照16进制存的)<br><img src="/2018/01/20/hbase-shell-ops/32.png" alt="pic">  </li>
<li>获取当前count的值<br><img src="/2018/01/20/hbase-shell-ops/33.png" alt="pic">  </li>
<li>将整张表清空<br><img src="/2018/01/20/hbase-shell-ops/34.png" alt="pic">  </li>
</ul>
<p>下面内容参考自-&gt;<a href="https://www.cnblogs.com/hunttown/p/5799850.html" target="_blank" rel="external">来自</a></p>
<h2 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h2><p>1）分配权限</p>
<h3 id="语法-grant-参数后面用逗号分隔"><a href="#语法-grant-参数后面用逗号分隔" class="headerlink" title="语法 : grant      参数后面用逗号分隔"></a>语法 : grant <user> <permissions> <table> <column family=""> <column qualifier=""> 参数后面用逗号分隔</column></column></table></permissions></user></h3><h3 id="权限用五个字母表示：-“RWXCA”"><a href="#权限用五个字母表示：-“RWXCA”" class="headerlink" title="权限用五个字母表示： “RWXCA”."></a>权限用五个字母表示： “RWXCA”.</h3><h3 id="READ-‘R’-WRITE-‘W’-EXEC-‘X’-CREATE-‘C’-ADMIN-‘A’"><a href="#READ-‘R’-WRITE-‘W’-EXEC-‘X’-CREATE-‘C’-ADMIN-‘A’" class="headerlink" title="READ(‘R’), WRITE(‘W’), EXEC(‘X’), CREATE(‘C’), ADMIN(‘A’)"></a>READ(‘R’), WRITE(‘W’), EXEC(‘X’), CREATE(‘C’), ADMIN(‘A’)</h3><h3 id="例如，给用户‘test’分配对表t1有读写的权限，"><a href="#例如，给用户‘test’分配对表t1有读写的权限，" class="headerlink" title="例如，给用户‘test’分配对表t1有读写的权限，"></a>例如，给用户‘test’分配对表t1有读写的权限，</h3><p>hbase(main)&gt; grant ‘test’,’RW’,’t1’</p>
<p>2）查看权限</p>
<h3 id="语法：user-permission"><a href="#语法：user-permission" class="headerlink" title="语法：user_permission "></a>语法：user_permission <table></table></h3><h3 id="例如，查看表t1的权限列表"><a href="#例如，查看表t1的权限列表" class="headerlink" title="例如，查看表t1的权限列表"></a>例如，查看表t1的权限列表</h3><p>hbase(main)&gt; user_permission ‘t1’</p>
<p>3）收回权限</p>
<h3 id="与分配权限类似，语法：revoke"><a href="#与分配权限类似，语法：revoke" class="headerlink" title="与分配权限类似，语法：revoke    "></a>与分配权限类似，语法：revoke <user> <table> <column family=""> <column qualifier=""></column></column></table></user></h3><h3 id="例如，收回test用户在表t1上的权限"><a href="#例如，收回test用户在表t1上的权限" class="headerlink" title="例如，收回test用户在表t1上的权限"></a>例如，收回test用户在表t1上的权限</h3><p>hbase(main)&gt; revoke ‘test’,’t1’</p>
<p>###Region管理<br>1）移动region</p>
<h3 id="语法：move-‘encodeRegionName’-‘ServerName’"><a href="#语法：move-‘encodeRegionName’-‘ServerName’" class="headerlink" title="语法：move ‘encodeRegionName’, ‘ServerName’"></a>语法：move ‘encodeRegionName’, ‘ServerName’</h3><h3 id="encodeRegionName指的regioName后面的编码，ServerName指的是master-status的Region-Servers列表"><a href="#encodeRegionName指的regioName后面的编码，ServerName指的是master-status的Region-Servers列表" class="headerlink" title="encodeRegionName指的regioName后面的编码，ServerName指的是master-status的Region Servers列表"></a>encodeRegionName指的regioName后面的编码，ServerName指的是master-status的Region Servers列表</h3><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>hbase(main)&gt;move ‘4343995a58be8e5bbc739af1e91cd72d’, ‘db-41.xxx.xxx.org,60020,1390274516739’</p>
<p>2）开启/关闭region</p>
<h3 id="语法：balance-switch-true-false"><a href="#语法：balance-switch-true-false" class="headerlink" title="语法：balance_switch true|false"></a>语法：balance_switch true|false</h3><p>hbase(main)&gt; balance_switch</p>
<p>3）手动split</p>
<h3 id="语法：split-‘regionName’-‘splitKey’"><a href="#语法：split-‘regionName’-‘splitKey’" class="headerlink" title="语法：split ‘regionName’, ‘splitKey’"></a>语法：split ‘regionName’, ‘splitKey’</h3><p>4）手动触发major compaction</p>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><pre><code>Compact all regions in a table:
hbase&gt; major_compact &#39;t1&#39;
Compact an entire region:
hbase&gt; major_compact &#39;r1&#39;
Compact a single column family within a region:
hbase&gt; major_compact &#39;r1&#39;, &#39;c1&#39;
Compact a single column family within a table:
hbase&gt; major_compact &#39;t1&#39;, &#39;c1&#39;
</code></pre><h2 id="配置管理及节点重启"><a href="#配置管理及节点重启" class="headerlink" title="配置管理及节点重启"></a>配置管理及节点重启</h2><p>1）修改hdfs配置 hdfs配置位置：/etc/hadoop/conf</p>
<h2 id="同步hdfs配置"><a href="#同步hdfs配置" class="headerlink" title="同步hdfs配置"></a>同步hdfs配置</h2><p>cat /home/hadoop/slaves|xargs -i -t scp /etc/hadoop/conf/hdfs-site.xml hadoop@{}:/etc/hadoop/conf/hdfs-site.xml</p>
<h2 id="关闭："><a href="#关闭：" class="headerlink" title="关闭："></a>关闭：</h2><p>cat /home/hadoop/slaves|xargs -i -t ssh hadoop@{} “sudo /home/hadoop/cdh4/hadoop-2.0.0-cdh4.2.1/sbin/hadoop-daemon.sh –config /etc/hadoop/conf stop datanode”</p>
<h2 id="启动："><a href="#启动：" class="headerlink" title="启动："></a>启动：</h2><p>cat /home/hadoop/slaves|xargs -i -t ssh hadoop@{} “sudo /home/hadoop/cdh4/hadoop-2.0.0-cdh4.2.1/sbin/hadoop-daemon.sh –config /etc/hadoop/conf start datanode”</p>
<p>2）修改hbase配置</p>
<h2 id="hbase配置位置："><a href="#hbase配置位置：" class="headerlink" title="hbase配置位置："></a>hbase配置位置：</h2><h2 id="同步hbase配置"><a href="#同步hbase配置" class="headerlink" title="同步hbase配置"></a>同步hbase配置</h2><p>cat /home/hadoop/hbase/conf/regionservers|xargs -i -t scp /home/hadoop/hbase/conf/hbase-site.xml hadoop@{}:/home/hadoop/hbase/conf/hbase-site.xml</p>
<h2 id="graceful重启"><a href="#graceful重启" class="headerlink" title="graceful重启"></a>graceful重启</h2><p>cd ~/hbase<br>bin/graceful_stop.sh –restart –reload –debug inspurXXX.xxx.xxx.org</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2018-04-22T07:54:42.117Z" itemprop="dateUpdated">2018-04-22 15:54:42</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/2018/01/20/hbase-shell-ops/" target="_blank" rel="external">http://wincher.cn/2018/01/20/hbase-shell-ops/</a>
        
    </div>
    
    <footer>
        <a href="http://wincher.cn">
            <img src="/img/avatar.jpg" alt="Wincher">
            Wincher
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ForRemember/">ForRemember</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HBase/">HBase</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://wincher.cn/2018/01/20/hbase-shell-ops/&title=《HBase Shell操作》 — WincherToldYou&pic=http://wincher.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://wincher.cn/2018/01/20/hbase-shell-ops/&title=《HBase Shell操作》 — WincherToldYou&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://wincher.cn/2018/01/20/hbase-shell-ops/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《HBase Shell操作》 — WincherToldYou&url=http://wincher.cn/2018/01/20/hbase-shell-ops/&via=http://wincher.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://wincher.cn/2018/01/20/hbase-shell-ops/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/01/20/jadclipse/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">jadclipse</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/01/19/hadoop-hbase-cluster-on-ubuntu/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Ubuntu搭建Hadoop&amp;HBase集群</h4>
      </a>
    </div>
  
</nav>



    




















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
            <span>This blog is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Wincher &copy; 2015 - 2021</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://wincher.cn/2018/01/20/hbase-shell-ops/&title=《HBase Shell操作》 — WincherToldYou&pic=http://wincher.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://wincher.cn/2018/01/20/hbase-shell-ops/&title=《HBase Shell操作》 — WincherToldYou&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://wincher.cn/2018/01/20/hbase-shell-ops/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《HBase Shell操作》 — WincherToldYou&url=http://wincher.cn/2018/01/20/hbase-shell-ops/&via=http://wincher.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://wincher.cn/2018/01/20/hbase-shell-ops/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://wincher.cn/2018/01/20/hbase-shell-ops/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
